{
  "definitions": {},
  "$id": "/menu.json",
  "type": "object",
  "required": ["menu", "user", "order"],
  "properties": {
    "menu": {
      "type": "object",
      "title": "menu",
      "required": [
        "id",
        "name",
        "deadline",
        "deadlineDay",
        "menuNote",
        "subscriberNote",
        "createdAt",
        "items",
        "isCurrent"
      ],
      "properties": {
        "id": { "type": "integer" },
        "name": { "type": "string" },
        "subscriberNote": { "type": "string" },
        "menuNote": { "type": ["null", "string"] },
        "createdAt": {
          "type": "string",
          "title": "created at"
        },
        "deadline": { "type": "string" },
        "deadlineDay": { "type": "string" },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "id",
              "name",
              "description",
              "price",
              "subscriberOnly",
              "marketplaceOnly",
              "day1",
              "day2"
            ],
            "properties": {
              "id": { "type": "integer" },
              "name": { "type": "string" },
              "description": { "type": "string" },
              "price": { "type": "number" },
              "subscriberOnly": { "type": "boolean" },
              "marketplaceOnly": { "type": "boolean" },
              "day1": { "type": "boolean" },
              "day2": { "type": "boolean" },
              "image": {
                "type": ["null", "string"],
                "title": "image",
                "examples": [
                  "/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f5152334760abf53540d2df5ba6caa61b3d4635a/RussellBread2-002.webp"
                ]
              }
            }
          }
        },
        "isCurrent": { "type": "boolean" }
      }
    },
    "user": {
      "type": ["object", "null"],
      "title": "user",
      "required": ["id", "email", "name", "hashid", "credits", "breadsPerWeek"],
      "properties": {
        "id": { "type": "integer" },
        "email": { "type": "string" },
        "name": { "type": "string" },
        "hashid": {
          "type": "string",
          "examples": ["Dot9gKn9w"]
        },
        "credits": { "type": "integer" },
        "breadsPerWeek": {
          "type": "number",
          "default": 1.0
        }
      }
    },
    "order": {
      "type": ["object", "null"],
      "title": "order",
      "required": ["items", "id", "comments", "skip"],
      "properties": {
        "items": {
          "type": "array",
          "title": "items",
          "items": {
            "type": "object",
            "title": "item",
            "required": ["itemId", "quantity", "day", "day1Pickup"],
            "properties": {
              "itemId": { "type": "integer" },
              "quantity": {
                "type": "integer",
                "default": 1
              },
              "day": { "type": "string" },
              "day1Pickup": { "type": "boolean" }
            }
          }
        },
        "id": { "type": "integer" },
        "comments": { "type": "string" },
        "skip": { "type": "boolean" },
        "stripeReceiptUrl": { "type": ["string", "null"] },
        "stripeChargeAmount": { "type": ["number", "null"] }
      }
    }
  }
}
